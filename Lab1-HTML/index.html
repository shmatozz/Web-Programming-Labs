<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Анализ времени работы алгоритмов</title>
    <style>
        p {
            text-indent: 20px;
        }
        ul li::marker {
            color: red;
        }

    </style>
</head>

<body style="max-width: 900px;
             margin-left: auto;
             margin-right: auto;">
<header>
    <h1>Анализ времени работы алгоритмов</h1>
    <h2>АиСД - Лабораторная работа №2</h2>

    <nav>
        <ul>
            <li><a href="#data">Данные</a></li>
            <li><a href="#realization">Реализации алгоритмов</a></li>
            <li><a href="#testing">Тестирование и выводы</a></li>
        </ul>
    </nav>
</header>

<hr>

<main>
    <article>
        <p>Реализация 3 алгоритмов по поиску количества вложенных прямоугольников
            в заданной точке на координатной плоскости.</p>

        <section id="data">
            <h3>Входные данные</h3>
            <p>Даны <i>N</i> прямоугольников и <i>M</i> точек на координатной плоскости. Хранение прямоугольников
                происходит по координатам точек левого нижнего (<i>left</i>) и правого верхнего углов (<i>right</i>).</p>

            <h3>Выходные данные</h3>
            <p>Для каждой из <i>M</i> точек узнать <u>количество вложенных прямоугольников</u>.</p>
        </section>

        <hr>

        <section id="realization">
            <h3>Автоматическая генерация</h3>
            <p>Для автоматизации и ускорения процесса тестирования было рекомендовано использовать формулы для
                генерации заданного числа прямоугольников и соответствующего набора точек.</p>

            <ul>
                <li>Формула генерации прямоугольников подразумевает создание N вложенных друг в друга прямоугольников.</li>
                <li>Формула генерации набора точек подразумевает создание неслучайного набора точек распределённых
                    более-менее равномерно по ненулевому пересечению прямоугольников с помощью хеш функции от <i>i</i>
                    с разным базисом для <i>x</i> и <i>y</i> (<i>(p * i)<sup>31</sup> % (20 * N)</i>, где <i>p</i> большое простое, разное для <i>x</i> и <i>y</i>).</li>
            </ul>

            <h3>Используемые алгоритмы</h3>
            <ol>
                <li>Полный перебор</li>
                <li>Алгоритм на карте с сжатыми координатами</li>
                <li>Алгоритм на персистентном дереве отрезков</li>
            </ol>

            <table>
                <caption>Асимптотические сложности алгоритмов</caption>
                <thead align="center">
                <tr>
                    <th></th>
                    <th>Перебор</th>
                    <th>Карта</th>
                    <th>Дерево отрезков</th>
                </tr>
                </thead>
                <tbody align="center">
                <tr>
                    <td><b>Подготовка</b></td>
                    <td>1</td>
                    <td>N<sup>3</sup></td>
                    <td>N <small>*</small> logN</td>
                </tr>
                <tr>
                    <td><b>Ответ</b></td>
                    <td>N <small>*</small> M</td>
                    <td>M <small>*</small> logN</td>
                    <td>M <small>*</small> logN</td>
                </tr>
                </tbody>
            </table>
        </section>

        <hr>

        <section id="testing">
            <h3>Тестирование и выводы</h3>
            <p>Тестирование времени работы алгоритмов производилось на следующем наборе данных:</p>

            <ul>
                <li>Количество прямоугольников равно <i>2<sup>i</sup></i>, где <i>0 &lt= i &lt= 12</i></li>
                <li>Количество точек для каждого набора прямоугольников одинаково и равно <b>100000</b></li>
            </ul>

            <p><strong>Измерение времени предобработки</strong></p>
            <img height="525"
                 width="750"
                 src="https://github.com/shmatozz/Algorithms-Lab-2/blob/master/artefacts/preparationGraph.png?raw=true"
                 alt="Время предобработки"
                 style="border:3px #000000 solid"/>

            <p><strong>Измерение времени ответа</strong></p>
            <img height="325"
                 width="500"
                 src="https://github.com/shmatozz/Algorithms-Lab-2/blob/master/artefacts/answeringGraph.png?raw=true"
                 alt="Время ответа"/>

            <p><strong>Общее время работы</strong></p>
            <img height="500"
                 width="650"
                 src=" https://github.com/shmatozz/Algorithms-Lab-2/blob/master/artefacts/totalTime.png?raw=true"
                 alt="Общее время"/>

            <p>График общего времени работы двух алгоритмов показывает, что алгоритм на карте на больших данных проигрывает двум другим
                алгоритмам по времени работы несмотря на свою достаточно быструю скорость нахождения ответа на карте и уже на 256 прямоугольниках становится хуже
                полного перебора. В свою очередь время работы алгоритма на дереве растёт стабильно медленно и становиться самым лучшим уже на 32 прямоугольниках.</p>

            <blockquote>
                <cite>Исходя из полученных результатов можно сказать, что алгоритм на персистентном дереве отрезков будет уместен и рационален на
                    любых данных. В то же время, из-за высокой сложности реализации персистентного дерева отрезков, будет уместно использовать алгоритм на
                    карте на о-очень <b>маленьком</b> количестве прямоугольников и ооочень <b>большом</b> количестве запрашиваемых точек. Также, если
                    входные данные по количеству точек и прямоугольников достаточно малы можно воспользоваться обычным перебором ввиду его простоты и скорости реализации.</cite>
            </blockquote>
        </section>
    </article>
</main>

<footer>
    <p>В данной статье представлена сокращённая версия отчёта. Полную версию можно прочитать в <a href="https://github.com/shmatozz/Algorithms-Lab-2" target="_blank">моём GitHub репозитории</a>.</p>

    <section>
        <h3>Форма обратной связи</h3>
        <form method="post">
            <label for="review">Отзыв:</label>
            <br>
            <textarea id="review" name="review" required></textarea>
            <br>
            <label for="email">email:</label>
            <input type="email" id="email" name="email" required>

            <input type="submit" value="Отправить">
        </form>
        <p><sub>&copy Пожалуйста, оставьте отзыв о данной статье :3</sub></p>
    </section>
</footer>
</body>

</html>
